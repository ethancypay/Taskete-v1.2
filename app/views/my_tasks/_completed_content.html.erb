
<%= render partial: 'my_tasks/my_task_header', locals: { task: task } %>

<%# Content inside here %>
<div class="p-4 flex flex-col justify-between border shadow-lg rounded-lg">

  <div class="flex">

    <%# Items Section %>
    <div class="flex-grow pr-4">
      <ul class="shadow-inner t-item-box flex-grow bg-gray-100 rounded-lg px-2 pb-1" data-item-target="list" data-controller="drag" data-drag-url="/items/:id/move" data-task-id=<%= task.id %>>

        <div class="text-xs text-gray-300 pt-2 text-center">Drop items here</div>
        <%= render partial: 'items/items', locals: { items: task.items, workflow: task.workflow, task: task  } %>

      </ul>
    </div>

    <%# Members Section %>
    <div class="border-l w-40 px-3 pt-2">
      <ul>
        <%= render partial: 'tasks/task_members', locals: {task_members: task.users} %>
      </ul>
    </div>

  </div>

</div>

<%# dotted line connector %>
<div class="t-connector h-14"></div>



<%# next task %>
<% if next_task %>
  <%= render partial: 'my_tasks/next_task_header', locals: { task: next_task } %>

  <div class="p-4 flex shadow-lg rounded-lg border">
  <%# nexttask - Items section %>
    <div class="flex-grow pr-4 flex flex-col">
      <ul class="flex-grow" >

        <%= render partial: 'items/items', locals: { items: next_task.items, workflow: next_task.workflow, task: next_task  } %>

      </ul>
    </div>

    <%# nexttask - Members Section %>
    <div class="border-l w-40 px-3 pt-2">
      <ul>
        <%= render partial: 'tasks/task_members', locals: {task_members: next_task.users} %>
      </ul>
    </div>
  <%# flex end %>
  </div>

<% else %>
  <div class="flex justify-center">
    <div class="text-sm py-2 px-4 bg-gray-100 text-gray-400 rounded-md">End of Workflow</div>
  </div>
<% end %>
